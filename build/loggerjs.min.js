var LoggerJS=LoggerJS||function(){"use strict";function a(a){return a.split(/\n\s+at\s+/)}function b(a){return a.join("\n    at ")}function c(b){var c,d=a(b.stack);return d.length<2?d:c=d.slice(b.isFromConsoleWrapper?3:1)}function d(a){return this instanceof d?void(this.log=w(a)):new d}function e(a){if(!(this instanceof e))return new e;a=a?a:{};var b;if(!a.task)throw b=new Error,b.name="LogTaskInstanciationError",b.message="you have to provide a task for the LogTask instance: options = {task: function (logEntry) {/*your task code*/}}",b;if(!a.name)throw b=new Error,b.name="LogTaskInstanciationError",b.message='you have to provide a name for the LogTask instance: options = {name: "xyz"}',b;this.task=a.task,this.name=a.name,this.status="boolean"==typeof a.status?a.status:!0,this.strict="boolean"==typeof a.strict?a.strict:!1,this.logLevel=t.exists(a.logLevel)?a.logLevel:logLevelS.ERROR}function f(a){if(!(a&&a instanceof d))throw new Error("triggerLogTaskProcessing awaits a LogEntry object as argument");var b=a.toJson();for(var c in logTasks)logTasks[c].strict&&b.logLevel!==logTasks[c].logLevel||logLevelS.checkPriority(b.logLevel,logTasks[c].logLevel)&&logTasks[c].task(a)}function g(a){z&&m&&m(a)}function h(a){if(!(this instanceof h))return new h;if(a=a?a:{},!a.namespace){var b=new Error;throw b.name="LoggerInstanciationError",b.message='you have to provide a namespace for the Logger instance: options = {namespace: "x.y.z"}',b}a.tags&&(s=a.tags),r="boolean"==typeof a.uniqueLogKeys?a.uniqueLogKeys:!0,q=a.namespace,this.status="boolean"==typeof a.status?a.status:!0,this.log_level=t.exists(a.logLevel)?a.logLevel:t.ERROR,a.logServerUrl&&(C=t.exists(a.logServerLevel)?a.logServerLevel:this.log_level,D=a.logServerUrl,this.useLogServer(D,C))}function i(a){return!B&&F?!1:(H=F())?(H.onreadystatechange=j,H.open("POST",D,!0),H.setRequestHeader("Content-Type","application/json; charset=utf-8"),void H.send(JSON.stringify(a.toJson()))):(console.error("LoggerJS::pushToLogServer - no HTTP Request coultd be instanciated"),!1)}function j(){if(4===this.readyState&&200!==this.status){var a;this.status?(a=new Error("LogServer returned HTTP StatusCode "+this.status+", url: "+D),a.name="LoggerJS::LogServerException"):(a=new Error("LogServer unreachable, url: "+D),a.name="LoggerJS::LogServerException"),entry=new d(a),console.error(entry.toString()),g(entry)}}function k(a,b,c,e,h){var j=null;return h?(!h.fileName&&b&&(h.fileName=b),!h.lineNumber&&c&&(h.lineNumber=c)):(h=new Error,h.message=a,h.fileName=b,h.lineNumber=c),h.name="ERROR",j=new d(h),console.error(j.toString()),i(j),g(j),f(j),J&&J(a,b,c,e,h),!0}function l(){if(window&&!M){var a=!1;K&&(L=window.document.getElementById(K)),parent||(L=window.document.body,a=!0),M=document.createElement("div"),M.id=N,a&&L.firstChild?L.insertBefore(M,L.firstChild):L.appendChild(M),z=!0}else z=!1}function m(a){M||l();var b=a.toString().replace(/\n/g,"<br/>&nbsp;&nbsp;&nbsp;&nbsp;"),c=document.createElement("div");c.id=a.namespace+"-"+a.hash,c.className="LJS"+a.logLevel,c.innerHTML=b,M.firstChild?M.insertBefore(c,M.firstChild):M.appendChild(c)}var n=n||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;b>i;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);!function(){var a=n,b=a.lib,c=b.WordArray,d=b.Hasher,e=[],b=a.algo.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],f=c[1],g=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)e[j]=0|a[b+j];else{var k=e[j-3]^e[j-8]^e[j-14]^e[j-16];e[j]=k<<1|k>>>31}k=(d<<5|d>>>27)+i+e[j],k=20>j?k+((f&g|~f&h)+1518500249):40>j?k+((f^g^h)+1859775393):60>j?k+((f&g|f&h|g&h)-1894007588):k+((f^g^h)-899497514),i=h,h=g,g=f<<30|f>>>2,f=d,d=k}c[0]=c[0]+d|0,c[1]=c[1]+f|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=d.clone.call(this);return a._hash=this._hash.clone(),a}});a.SHA1=d._createHelper(b),a.HmacSHA1=d._createHmacHelper(b)}();var o,p=null,q=null,r=!0,s=[],t={};t.AUTH="AUTH",t.LOG="LOG",t.INFO="INFO",t.FATAL="FATAL",t.ERROR="ERROR",t.WARNING="WARNING",t.PATH="PATH",t.DEBUG="DEBUG",t.priority={},t.log_priority=[t.FATAL,t.ERROR,t.WARNING,t.INFO,t.AUTH,t.LOG,t.PATH,t.DEBUG],t.withStack=[t.FATAL,t.ERROR];for(var u in t.log_priority)t.priority[t.log_priority[u]]=u;t.checkPriority=function(a,b){return t.priority[a]<=t.priority[b]},t.exists=function(a){return t.priority[a]?!0:!1};var v=function(a){var b=c(a),d=b[0];return d=(d.indexOf(" (")>=0?d.split(" (")[1].substring(0,d.length-1):d.split("at ")[1])||d,d=d.indexOf(")")>=0?d.split(")")[0]:d},w=function(a){var d,e,f=t.withStack.indexOf(a.name)>-1?!0:!1,g={};if(a instanceof Error){if(g.type="logentry",g.namespace=log_namespace,g.tags=log_tags,g.timestamp=new Date,g.logLevel=a.name.toUpperCase(),g.uniqueKey=r,g.hash=r?n.SHA1(g.logMessage+g.timestamp.toISOString()).toString():n.SHA1(g.logMessage).toString(),a.message instanceof Error||t.withStack.indexOf(a.name)>-1){var h=c(a);h.unshift(a.message),g.logMessage=b(h)}else g.logMessage=a.message;g.logLocation=a.fileName?a.fileName:v(a),d=x(g.logLocation),e=d.split(":"),a.lineNumber?(g.fileName=e[0]?e[0]:"unknown",g.lineNumber=a.lineNumber):(g.fileName=e[0]?e[0]:"unknown",g.lineNumber=e[1]?e[1]:"unknown"),g.logLocation.indexOf(":"+g.lineNumber)<0&&(g.logLocation+=":"+g.lineNumber),f?g.stack=a.stack:g.logLocation=g.fileName+":"+g.lineNumber}return G(g),g},x=function(a){p||(p=a.lastIndexOf("\\")>0?"\\":"/");var b=a.lastIndexOf(p)+1;return b>0?a.substring(b):a};d.prototype.toJson=function(){return this.log},d.prototype.toString=function(){var a=this.toJson(),b="";return b+=this.getConsolePrefix(),b+=" ",b+=a.logMessage},d.prototype.getConsolePrefix=function(){var a=this.toJson(),b="";return b+=a.timestamp.toISOString(),b+=" - ",b+=q,b+=" - ",b+=a.logLevel,b+=" - ",b+=a.logLocation,b+=" -"},e.prototype.setLogLevel=function(a){t.exists(a)&&(this.logLevel=a,this.status=!0)},e.prototype.disable=function(){this.status=!1},e.prototype.enable=function(){this.status=!0},e.prototype.setStatus=function(a){this.status="boolean"==typeof a?a:!1};var y={},z=!1,A=function(b){var c=Error;c.prototype.write=function(b,c){this.isFromConsoleWrapper=!0,this.message=b.length>1?JSON.stringify(b):b[0];var e=c.toUpperCase(),h=t.withStack.indexOf(e)>-1?!0:!1;this.name=e;var i=new d(this);if(h&&!(b[0]instanceof Error)){var j=a(this.stack).slice(3);j.unshift(b[0]),b[0]=j.join("\n    at ")}for(var k in b)b[k]instanceof Error&&(b[k]=b[k].stack);var l=i.getConsolePrefix();if(b=[l].concat(b),console){var m=h?"error":c;console[m]?console[m].apply?console[m].apply(console,b):console[m](b):console.log.apply?console.log.apply(console,b):console.log(b)}else z=!0;g(i),f(i)};var e=function(a){var b=a.toUpperCase();return function(){this.status&&t.checkPriority(b,this.log_level)&&c().write(Array.prototype.slice.call(arguments,0),a)}},h=e("log");for(var i in b)h[b[i].toLowerCase()]=e(b[i].toLowerCase()),h[b[i].toLowerCase()].LEVEL=b[i];return h}(t.log_priority);h.prototype=A,h.prototype.constructor=A;var B=!1,C=null,D=null,E=null;for(E in t)h.prototype[E]=t[E];h.prototype.setLogLevel=function(a){t.exists(a)&&(this.log_level=a,this.status=!0)},h.prototype.disable=function(){this.status=!1},h.prototype.enable=function(){this.status=!0},h.prototype.toggleStatus=function(){this.status=!this.status},h.prototype.setStatus=function(a){this.status="boolean"==typeof a?a:!1},h.prototype.getNamespace=function(){return q},h.prototype.getTags=function(){return s},h.prototype.be=function(a){return a=a?a:this.log_level,this.status&&t.checkPriority(a,this.log_level)?!0:!1},h.prototype.useLogServer=function(a,b){C=t.exists(b)?b:t.ERROR,B=!0,D=a;var c={name:"LogServer",status:B,logLevel:C,task:i};this.registerLogTask(new e(c))},h.prototype.setLogServerLevel=function(a){C=t.exists(a)?a:t.ERROR,this.setLogTaskLogLevel("LogServer",C)},h.prototype.enableLogServer=function(){this.enableLogTask("LogServer")},h.prototype.disableLogServer=function(){this.disableLogTask("LogServer")},h.prototype.registerLogTask=function(a){a instanceof e&&(y[a.name]=a)},h.prototype.getLogTasks=function(){return y},h.prototype.setLogTaskLogLevel=function(a,b){y[a]&&t.exists(b)&&y[a].setLogLevel(b)},h.prototype.enableLogTask=function(a){y[a]&&y[a].enable()},h.prototype.disableLogTask=function(a){y[a]&&y[a].disable()},h.prototype.setLogTaskStatus=function(a,b){y[a]&&y[a].setLogLevel(b)},h.prototype.unregisterLogTask=function(a){"string"==typeof a&&y[a]&&delete y[a],a instanceof e&&y[a.name]&&delete y[a.name]};var F,G=function(a){a.userLocation=window.location.href},H=!1;if(window)if(window.XMLHttpRequest)F=function(){var a=new XMLHttpRequest;return a.overrideMimeType&&a.overrideMimeType("application/json"),a};else if(window.ActiveXObject)try{new ActiveXObject("Msxml2.XMLHTTP"),F=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(I){try{new ActiveXObject("Microsoft.XMLHTTP"),F=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(I){}}var J;window&&(window.onerror&&(J=window.onerror),window.onerror=k);var K,L,M,N="LJSWebConsole";h.prototype.useWebConsole=function(a,b){K=a||K,N=b||N},h.prototype.enableWebConsole=function(){M&&(z=!0)},h.prototype.disableWebConsole=function(){z=!1,L.innerHTML=""},h.prototype.cleanWebConsole=function(){M.innerHTML=""};var o={Logger:function(){var a=new h;return a},LogTask:function(){var a=new e;return a}};for(var E in t)"string"==typeof t[E]&&(o[E]=t[E]);return o}(this);